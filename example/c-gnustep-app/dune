(executable
 (name main)
 (public_name hello_gnustep)
 (package camlkit-examples)
 (enabled_if (not (or
  (= %{context_name} device.ios)
  (= %{context_name} simulator.ios)
  (= %{context_name} maccatalyst.ios))))
 (libraries foundation appkit camlkit))

(subdir GSApp.app
 (rule
  (deps ../main.exe)
  (targets GSApp)
  (enabled_if (not (or
   (= %{context_name} device.ios)
   (= %{context_name} simulator.ios)
   (= %{context_name} maccatalyst.ios))))
  (action (copy ../main.exe GSApp))))

(subdir GSApp.app/Resources
 (rule
  (deps ../../Info-gnustep.plist)
  (targets Info-gnustep.plist)
  (action (copy ../../Info-gnustep.plist Info-gnustep.plist))))
